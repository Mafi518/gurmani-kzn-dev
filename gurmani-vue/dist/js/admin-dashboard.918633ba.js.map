{"version":3,"sources":["webpack:///./src/views/Admin-dashboard.vue?32aa","webpack:///./src/views/Admin-dashboard.vue","webpack:///./src/views/Admin-dashboard.vue?e197"],"names":["class","action","signOutUser","type","placeholder","promo_name","promo_picture","title","changeBanners","banner_response","search_address","add_toggle","add_form","address","delivery_zone","street_index","adminAddAddress","FIND_ADDRESS","key","id","value","adminDeleteAddress","add_popular","add_popular_field","adminAddPopular","POPULAR","popular","product_id","src","photo_origin","product_name","adminDeletePopular","data","image","setup","user","auth","router","push","console","log","methods","e","target","getAttribute","ADD_BANNER","response","setTimeout","adminAdresses","GET_ADDRESSES","GET_ADMIN_ADDRESSES","DELETE_ADMIN_ADDRESS","SET_ADMIN_ADDRESSES","SET_ADMIN_POPULARS","DELETE_ADMIN_POPULARS","computed","this","RENDER_ADMIN_ADRESSES","length","filter","elem","toLowerCase","includes","mounted","GET_POPULAR_FROM_API","__exports__","render"],"mappings":"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","file":"js/admin-dashboard.918633ba.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Admin-dashboard.vue?vue&type=style&index=0&id=c9f1d038&lang=scss&scoped=true\"","<template>\n  <section class=\"panel\">\n    <v-back-menu>\n      <v-back-btn @click=\"signOutUser\"></v-back-btn>\n      <h2 class=\"panel__title\">Gurmani dashboard</h2>\n    </v-back-menu>\n\n    <form action=\"\" class=\"promotion form\">\n      <h2 class=\"form__title\">Добавить баннер</h2>\n      <!-- <input type=\"file\" name=\"promotion_file\" @change=\"uploadFile\"> -->\n      <input\n        type=\"text\"\n        placeholder=\"Название акции (промокод)\"\n        class=\"form__input form__input-block\"\n        v-model.trim=\"promo_name\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Название картинки (banner1.jpg)\"\n        class=\"form__input form__input-block\"\n        v-model.trim=\"promo_picture\"\n      />\n      <button\n        class=\"form__button form__add\"\n        title=\"add\"\n        @click.prevent=\"changeBanners\"\n      >\n        Добавить\n      </button>\n      <button\n        class=\"form__button form__delete\"\n        title=\"delete\"\n        @click.prevent=\"changeBanners\"\n      >\n        Удалить\n      </button>\n    </form>\n    {{ this.banner_response }}\n\n    <form action=\"\" class=\"addresses\">\n      <h2 class=\"form__title\">Добавить/Удалить улицу</h2>\n\n      <input\n        type=\"text\"\n        placeholder=\"Найти улицу\"\n        v-model.trim=\"search_address\"\n        class=\"addresses__search\"\n      />\n      <button\n        class=\"addresses__add\"\n        @click.prevent=\"\n          add_toggle == false ? (add_toggle = true) : (add_toggle = false)\n        \"\n      >\n        Добавить улицу\n      </button>\n\n      <article class=\"addresses__item\" v-if=\"add_toggle == true\">\n        <input\n          type=\"text\"\n          class=\"addresses__input\"\n          placeholder=\"Адрес\"\n          v-model.trim=\"add_form.address\"\n        />\n        <input\n          type=\"text\"\n          class=\"addresses__input\"\n          placeholder=\"Зона доставки\"\n          v-model.trim=\"add_form.delivery_zone\"\n        />\n        <input\n          type=\"text\"\n          class=\"addresses__input\"\n          placeholder=\"Индекс улицы\"\n          v-model.trim=\"add_form.street_index\"\n        />\n        <button class=\"addresses__add\" @click.prevent=\"adminAddAddress()\">\n          Добавить\n        </button>\n      </article>\n\n      <div class=\"addresses__list\">\n        <article\n          class=\"addresses__item\"\n          v-for=\"address in FIND_ADDRESS\"\n          :key=\"address.id\"\n        >\n          <input\n            type=\"text\"\n            id=\"address\"\n            :value=\"address.address\"\n            class=\"addresses__input\"\n          />\n          <input\n            type=\"text\"\n            :value=\"address.delivery_zone\"\n            class=\"addresses__input\"\n          />\n          <input\n            type=\"text\"\n            :value=\"address.street_index\"\n            class=\"addresses__input\"\n          />\n          <button\n            class=\"addresses__delete\"\n            @click.prevent=\"adminDeleteAddress(address)\"\n          >\n            Удалить\n          </button>\n        </article>\n      </div>\n    </form>\n\n    <form action=\"\" class=\"admin-popular\">\n      <h2 class=\"form__title\">Добавить/Удалить популярный продукт</h2>\n\n      <button\n        class=\"admin-popular__add\"\n        @click.prevent=\"\n          add_popular == false ? (add_popular = true) : (add_popular = false)\n        \"\n      >\n        Добавить\n      </button>\n\n      <div class=\"admin-popular__item-container\" v-if=\"add_popular == true\">\n        <input\n          type=\"text\"\n          placeholder=\"Название блюда\"\n          class=\"admin-popular__input\"\n          v-model.trim=\"add_popular_field\"\n        />\n        <button class=\"admin-popular__add\" @click.prevent=\"adminAddPopular\">\n          Добавить\n        </button>\n      </div>\n\n      <div class=\"admin-popular__container\">\n        <article\n          class=\"admin-popular__item\"\n          v-for=\"popular in POPULAR\"\n          :key=\"popular.product_id\"\n        >\n          <img\n            :src=\"`https://gurmanikzndev.joinposter.com${popular.photo_origin}`\"\n            class=\"admin-popular__image\"\n          />\n          <h3 class=\"admin-popular__title\">\n            {{ popular.product_name }}\n          </h3>\n          <button\n            class=\"admin-popular__delete\"\n            @click.prevent=\"adminDeletePopular(popular.product_name)\"\n          >\n            Удалить\n          </button>\n        </article>\n      </div>\n    </form>\n  </section>\n</template>\n<script>\nimport { getAuth, signOut } from \"firebase/auth\";\nimport { useAuthState } from \"@/firebase\";\nimport { useRouter } from \"vue-router\";\nimport { mapActions, mapGetters } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      image: \"\",\n      promo_name: \"\",\n      promo_picture: \"\",\n      banner_response: \"\",\n\n      search_address: \"\",\n\n      add_toggle: false,\n      add_form: {\n        address: \"\",\n        delivery_zone: \"\",\n        street_index: \"\",\n      },\n\n      add_popular: false,\n      add_popular_field: \"\",\n    };\n  },\n  setup() {\n    const { user } = useAuthState();\n    const auth = getAuth();\n\n    const router = useRouter();\n    const signOutUser = async () => {\n      try {\n        await signOut(auth);\n        router.push(\"/auth\");\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    return { user, signOutUser };\n  },\n  methods: {\n    ...mapActions([\n      \"ADD_BANNER\",\n      \"ADD_BANNER_PHOTO\",\n      \"GET_ADMIN_ADDRESSES\",\n      \"GET_ADDRESSES\",\n      \"SET_ADMIN_ADDRESSES\",\n      \"DELETE_ADMIN_ADDRESS\",\n      \"GET_POPULAR_FROM_API\",\n      \"SET_ADMIN_POPULARS\",\n      \"DELETE_ADMIN_POPULARS\",\n    ]),\n    async changeBanners(e) {\n      const data = await {\n        action: e.target.getAttribute(\"title\"),\n        promo_name: this.promo_name,\n        promo_picture: this.promo_picture,\n      };\n      this.ADD_BANNER(data);\n      if (e.target.getAttribute(\"title\") == \"add\") {\n        this.response = \"Баннер успешно добавлен\";\n      } else {\n        this.response = \"Баннер успешно удалён\";\n      }\n\n      setTimeout(() => {\n        this.response = \"\";\n      }, 1000);\n    },\n    async adminAdresses() {\n      await this.GET_ADDRESSES();\n      this.GET_ADMIN_ADDRESSES();\n    },\n    async adminDeleteAddress(address) {\n      await this.DELETE_ADMIN_ADDRESS(address.id);\n      this.search_address = \"\";\n      this.adminAdresses();\n    },\n    async adminAddAddress() {\n      await this.SET_ADMIN_ADDRESSES(this.add_form);\n      this.add_form.address = \"\";\n      this.add_form.delivery_zone = \"\";\n      this.add_form.street_index = \"\";\n      this.adminAdresses();\n    },\n    async adminAddPopular() {\n      await this.SET_ADMIN_POPULARS(this.add_popular_field);\n    },\n    async adminDeletePopular(popular) {\n      await this.DELETE_ADMIN_POPULARS(popular);\n    },\n  },\n  computed: {\n    ...mapGetters([\"RENDER_ADMIN_ADRESSES\", \"POPULAR\"]),\n    FIND_ADDRESS() {\n      console.log(this.RENDER_ADMIN_ADRESSES.length);\n      if (\n        this.RENDER_ADMIN_ADRESSES.filter((elem) =>\n          elem.address.toLowerCase().includes(this.search_address.toLowerCase())\n        )\n      ) {\n        return this.RENDER_ADMIN_ADRESSES.filter((elem) =>\n          elem.address.toLowerCase().includes(this.search_address.toLowerCase())\n        );\n      } else {\n        return this.RENDER_ADMIN_ADRESSES;\n      }\n    },\n  },\n  mounted() {\n    this.adminAdresses();\n    this.GET_POPULAR_FROM_API();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.panel {\n  padding: 20px;\n  padding-top: 0;\n  &__title {\n    width: 100%;\n    text-align: center;\n    margin-bottom: 0;\n  }\n}\n.promotion {\n  margin-top: 20px;\n}\n.form {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -webkit-box-pack: justify;\n  -ms-flex-pack: justify;\n  justify-content: space-between;\n  margin-top: 30px;\n  &__input {\n    @include container;\n    position: relative;\n    width: 45%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    padding: 14px;\n    font-size: 13px;\n    border: none;\n    outline: none;\n    margin-bottom: 20px;\n    &-block {\n      max-width: 100%;\n      width: 100%;\n    }\n    &::-webkit-input-placeholder {\n      color: $second-black;\n    }\n    &::-moz-placeholder {\n      color: $second-black;\n    }\n    &:-ms-input-placeholder {\n      color: $second-black;\n    }\n    &::-ms-input-placeholder {\n      color: $second-black;\n    }\n    &::placeholder {\n      color: $second-black;\n    }\n  }\n  &__title {\n    margin-bottom: 20px;\n  }\n  &__button {\n    padding: 20px;\n    border-radius: 10px;\n    max-width: 45%;\n    width: 100%;\n    color: $white;\n  }\n  &__add {\n    background-color: turquoise;\n  }\n  &__delete {\n    background-color: tomato;\n  }\n}\n.addresses {\n  margin-top: 30px;\n  &__list {\n    max-height: 50vh;\n    overflow: auto;\n  }\n  &__item {\n    @include container;\n    margin-bottom: 20px;\n    padding: 5px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n  input {\n    padding: 10px;\n    border-radius: 10px;\n    border: none;\n  }\n  &__input {\n    background-color: $background;\n    width: 45%;\n    margin: 5px;\n    &:first-child {\n      width: 100%;\n    }\n  }\n  button {\n    border: none;\n    border-radius: 10px;\n    padding: 10px;\n    width: 100%;\n    color: #fff;\n  }\n\n  &__search {\n    background-color: #fff;\n    width: 100%;\n    display: block;\n  }\n  &__delete {\n    margin: 5px;\n    background-color: tomato;\n  }\n  &__add {\n    background-color: turquoise;\n    margin: 10px 0;\n  }\n}\n.admin-popular {\n  margin-top: 20px;\n\n  &__container {\n    display: flex;\n    flex-wrap: wrap;\n  }\n  &__item {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    @include container;\n    padding: 10px;\n    margin-right: 20px;\n    margin-bottom: 20px;\n    &-container {\n      @include container;\n      padding: 10px;\n      margin-bottom: 20px;\n    }\n  }\n  &__image {\n    max-width: 125px;\n    max-height: 130px;\n    height: 100%;\n  }\n  &__title {\n    @include h3;\n  }\n  &__delete {\n    background-color: tomato;\n    border: none;\n    border-radius: 10px;\n    color: #fff;\n    margin: 5px;\n    padding: 10px;\n    width: 100%;\n  }\n  &__add {\n    border: none;\n    border-radius: 10px;\n    background-color: turquoise;\n    padding: 10px;\n    width: 100%;\n    color: #fff;\n    margin: 15px 0;\n  }\n  &__input {\n    padding: 10px;\n    border-radius: 10px;\n    border: none;\n    width: 100%;\n    background-color: $background;\n    margin: 5px;\n  }\n}\n</style>\n","import { render } from \"./Admin-dashboard.vue?vue&type=template&id=c9f1d038&scoped=true\"\nimport script from \"./Admin-dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Admin-dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Admin-dashboard.vue?vue&type=style&index=0&id=c9f1d038&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\xollu\\\\OneDrive\\\\Рабочий стол\\\\Алексейв\\\\gurmani-kzn-dev\\\\gurmani-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9f1d038\"]])\n\nexport default __exports__"],"sourceRoot":""}