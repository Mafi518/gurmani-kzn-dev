(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-dashboard"],{1301:function(e,t,n){},5263:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),c=function(e){return Object(r["F"])("data-v-4832b382"),e=e(),Object(r["D"])(),e},a={class:"panel"},o=c((function(){return Object(r["i"])("h2",{class:"panel__title"},"Gurmani dashboard",-1)})),i={action:"",class:"promotion form"},s=c((function(){return Object(r["i"])("h2",{class:"form__title"},"Добавить баннер",-1)})),u=c((function(){return Object(r["i"])("h3",{class:"panel__title location__title"},"Где будет находиться баннер?",-1)})),d={for:"location1",class:"form__input"},l=Object(r["k"])("В шапке "),_={for:"location2",class:"form__input"},p=Object(r["k"])("Между меню и популярным "),O={action:"",class:"addresses"},b=c((function(){return Object(r["i"])("h2",{class:"form__title"},"Добавить/Удалить улицу",-1)})),m={key:0,class:"addresses__item"},j={class:"addresses__list"},f=["value"],h=["value"],R=["value"],E=["onClick"],g={action:"",class:"admin-popular"},A=c((function(){return Object(r["i"])("h2",{class:"form__title"},"Добавить/Удалить популярный продукт",-1)})),v={key:0,class:"admin-popular__item-container"},D={class:"admin-popular__container"},S=["src"],C={class:"admin-popular__title"},P=["onClick"],k={class:"config"},T=c((function(){return Object(r["i"])("h2",{class:"config__title"},"Редактировать отображение продуктов",-1)})),I={class:"config__list"},U=["onClick"],w=["src"],N={key:0,class:"change-popup"},y=c((function(){return Object(r["i"])("h2",{class:"change-popup__title"},"Редактировать позицию продуктов",-1)})),x={class:"change-popup__list"},M=["onClick"],G=["src"],V={class:"change-popup__controls"},L=["onClick"],F=["onClick"],z={class:"admin-promocodes"},B=c((function(){return Object(r["i"])("h2",{class:"admin-promocodes__title"}," Редактировать применение промокода ",-1)})),Y={class:"admin-promocodes__list"},J=["onClick"];function K(e,t,n,c,K,Q){var H=Object(r["K"])("v-back-btn"),q=Object(r["K"])("v-back-menu");return Object(r["C"])(),Object(r["h"])("section",a,[Object(r["l"])(q,null,{default:Object(r["T"])((function(){return[Object(r["l"])(H,{onClick:c.signOutUser},null,8,["onClick"]),o]})),_:1}),Object(r["i"])("form",i,[s,Object(r["U"])(Object(r["i"])("input",{type:"text",placeholder:"Название акции (промокод)",class:"form__input form__input-block","onUpdate:modelValue":t[0]||(t[0]=function(e){return K.promo_name=e})},null,512),[[r["R"],K.promo_name,void 0,{trim:!0}]]),Object(r["U"])(Object(r["i"])("input",{type:"text",placeholder:"Название картинки (banner1.jpg)",class:"form__input form__input-block","onUpdate:modelValue":t[1]||(t[1]=function(e){return K.promo_picture=e})},null,512),[[r["R"],K.promo_picture,void 0,{trim:!0}]]),u,Object(r["i"])("label",d,[l,Object(r["U"])(Object(r["i"])("input",{type:"radio",name:"location",id:"location1",value:"header","onUpdate:modelValue":t[2]||(t[2]=function(e){return K.promo_location=e})},null,512),[[r["Q"],K.promo_location]])]),Object(r["i"])("label",_,[p,Object(r["U"])(Object(r["i"])("input",{type:"radio",name:"location",id:"location2",value:"body","onUpdate:modelValue":t[3]||(t[3]=function(e){return K.promo_location=e})},null,512),[[r["Q"],K.promo_location]])]),Object(r["i"])("button",{class:"form__button form__add",title:"add",onClick:t[4]||(t[4]=Object(r["V"])((function(){return Q.changeBanners&&Q.changeBanners.apply(Q,arguments)}),["prevent"]))}," Добавить "),Object(r["i"])("button",{class:"form__button form__delete",title:"delete",onClick:t[5]||(t[5]=Object(r["V"])((function(){return Q.changeBanners&&Q.changeBanners.apply(Q,arguments)}),["prevent"]))}," Удалить ")]),Object(r["k"])(" "+Object(r["O"])(this.banner_response)+" ",1),Object(r["i"])("form",O,[b,Object(r["U"])(Object(r["i"])("input",{type:"text",placeholder:"Найти улицу","onUpdate:modelValue":t[6]||(t[6]=function(e){return K.search_address=e}),class:"addresses__search"},null,512),[[r["R"],K.search_address,void 0,{trim:!0}]]),Object(r["i"])("button",{class:"addresses__add",onClick:t[7]||(t[7]=Object(r["V"])((function(e){return 0==K.add_toggle?K.add_toggle=!0:K.add_toggle=!1}),["prevent"]))}," Добавить улицу "),1==K.add_toggle?(Object(r["C"])(),Object(r["h"])("article",m,[Object(r["U"])(Object(r["i"])("input",{type:"text",class:"addresses__input",placeholder:"Адрес","onUpdate:modelValue":t[8]||(t[8]=function(e){return K.add_form.address=e})},null,512),[[r["R"],K.add_form.address,void 0,{trim:!0}]]),Object(r["U"])(Object(r["i"])("input",{type:"text",class:"addresses__input",placeholder:"Зона доставки","onUpdate:modelValue":t[9]||(t[9]=function(e){return K.add_form.delivery_zone=e})},null,512),[[r["R"],K.add_form.delivery_zone,void 0,{trim:!0}]]),Object(r["U"])(Object(r["i"])("input",{type:"text",class:"addresses__input",placeholder:"Индекс улицы","onUpdate:modelValue":t[10]||(t[10]=function(e){return K.add_form.street_index=e})},null,512),[[r["R"],K.add_form.street_index,void 0,{trim:!0}]]),Object(r["i"])("button",{class:"addresses__add",onClick:t[11]||(t[11]=Object(r["V"])((function(e){return Q.adminAddAddress()}),["prevent"]))}," Добавить ")])):Object(r["g"])("",!0),Object(r["i"])("div",j,[(Object(r["C"])(!0),Object(r["h"])(r["a"],null,Object(r["I"])(Q.FIND_ADDRESS,(function(e){return Object(r["C"])(),Object(r["h"])("article",{class:"addresses__item",key:e.id},[Object(r["i"])("input",{type:"text",id:"address",value:e.address,class:"addresses__input"},null,8,f),Object(r["i"])("input",{type:"text",value:e.delivery_zone,class:"addresses__input"},null,8,h),Object(r["i"])("input",{type:"text",value:e.street_index,class:"addresses__input"},null,8,R),Object(r["i"])("button",{class:"addresses__delete",onClick:Object(r["V"])((function(t){return Q.adminDeleteAddress(e)}),["prevent"])}," Удалить ",8,E)])})),128))])]),Object(r["i"])("form",g,[A,Object(r["i"])("button",{class:"admin-popular__add",onClick:t[12]||(t[12]=Object(r["V"])((function(e){return 0==K.add_popular?K.add_popular=!0:K.add_popular=!1}),["prevent"]))}," Добавить "),1==K.add_popular?(Object(r["C"])(),Object(r["h"])("div",v,[Object(r["U"])(Object(r["i"])("input",{type:"text",placeholder:"Название блюда",class:"admin-popular__input","onUpdate:modelValue":t[13]||(t[13]=function(e){return K.add_popular_field=e})},null,512),[[r["R"],K.add_popular_field,void 0,{trim:!0}]]),Object(r["i"])("button",{class:"admin-popular__add",onClick:t[14]||(t[14]=Object(r["V"])((function(){return Q.adminAddPopular&&Q.adminAddPopular.apply(Q,arguments)}),["prevent"]))}," Добавить ")])):Object(r["g"])("",!0),Object(r["i"])("div",D,[(Object(r["C"])(!0),Object(r["h"])(r["a"],null,Object(r["I"])(e.POPULAR,(function(e){return Object(r["C"])(),Object(r["h"])("article",{class:"admin-popular__item",key:e.product_id},[Object(r["i"])("img",{src:"https://gurmanikzndev.joinposter.com".concat(e.photo_origin),class:"admin-popular__image"},null,8,S),Object(r["i"])("h3",C,Object(r["O"])(e.product_name),1),Object(r["i"])("button",{class:"admin-popular__delete",onClick:Object(r["V"])((function(t){return Q.adminDeletePopular(e.product_name)}),["prevent"])}," Удалить ",8,P)])})),128))])]),Object(r["i"])("section",k,[T,Object(r["i"])("div",I,[(Object(r["C"])(!0),Object(r["h"])(r["a"],null,Object(r["I"])(e.CATEGORIES,(function(e){return Object(r["C"])(),Object(r["h"])("div",{class:"config__item",key:e.category_id,onClick:function(t){return Q.adminCategoryProductsList(e.category_id)}},[Object(r["i"])("img",{src:"https://gurmanikzndev.joinposter.com".concat(e.category_photo),alt:"",class:"config__image"},null,8,w),Object(r["k"])(" "+Object(r["O"])(e.category_name),1)],8,U)})),128))])]),this.CATEGORY_PRODUCTS.length?(Object(r["C"])(),Object(r["h"])("div",N,[y,Object(r["i"])("div",x,[(Object(r["C"])(!0),Object(r["h"])(r["a"],null,Object(r["I"])(e.CATEGORY_PRODUCTS,(function(e){return Object(r["C"])(),Object(r["h"])("div",{class:"change-popup__item",key:e.product_id,onClick:function(t){return Q.support(e)}},[Object(r["i"])("img",{src:"https://gurmanikzndev.joinposter.com".concat(e.photo),alt:"",class:"change-popup__image"},null,8,G),Object(r["k"])(" "+Object(r["O"])(e.product_name)+" ",1),Object(r["i"])("div",V,[Object(r["i"])("button",{class:"change-popup__control",onClick:Object(r["V"])((function(t){return Q.changeProductPosition(e,"prev")}),["prevent"])}," Влево ",8,L),Object(r["i"])("button",{class:"change-popup__control",onClick:Object(r["V"])((function(t){return Q.changeProductPosition(e,"next")}),["prevent"])}," Вправо ",8,F)]),Object(r["k"])(" "+Object(r["O"])(e.sort_id),1)],8,M)})),128))]),Object(r["i"])("button",{class:"change-popup__save",onClick:t[15]||(t[15]=Object(r["V"])((function(){return Q.saveProductPositions&&Q.saveProductPositions.apply(Q,arguments)}),["prevent"]))}," Сохранить ")])):Object(r["g"])("",!0),Object(r["i"])("section",z,[B,Object(r["i"])("div",Y,[(Object(r["C"])(!0),Object(r["h"])(r["a"],null,Object(r["I"])(e.PROMOCODES,(function(t){return Object(r["C"])(),Object(r["h"])("div",{class:"admin-promocodes__item",key:t.promotion_id},[Object(r["k"])(Object(r["O"])(t.name)+" ",1),Object(r["i"])("button",{class:"admin-promocodes__change",onClick:Object(r["V"])((function(n){return e.SET_ADMIN_PROMOCODES_USAGE(t)}),["prevent"])},Object(r["O"])("reusable"==t.usage?"Сделать промокод одноразовым":"Сделать промокод многоразовым"),9,J)])})),128))])])])}var Q=n("5530"),H=n("1da1"),q=(n("4de4"),n("caad"),n("2532"),n("96cf"),n("ea7b")),W=n("dc59"),X=n("6c02"),Z=n("5502"),$={data:function(){return{image:"",promo_name:"",promo_picture:"",promo_location:"",banner_response:"",search_address:"",add_toggle:!1,add_form:{address:"",delivery_zone:"",street_index:""},add_popular:!1,add_popular_field:"",change_popup_toggle:!1}},setup:function(){var e=Object(W["b"])(),t=e.user,n=Object(q["a"])(),r=Object(X["c"])(),c=function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(q["d"])(n);case 3:r.push("/auth"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return{user:t,signOutUser:c}},methods:Object(Q["a"])(Object(Q["a"])({},Object(Z["b"])(["ADD_BANNER","ADD_BANNER_PHOTO","GET_ADMIN_ADDRESSES","GET_ADDRESSES","SET_ADMIN_ADDRESSES","DELETE_ADMIN_ADDRESS","GET_POPULAR_FROM_API","SET_ADMIN_POPULARS","DELETE_ADMIN_POPULARS","GET_CATEGORIES_FROM_API","GET_CATEGORY_PRODUCTS_FROM_API","SET_ADMIN_PRODUCTS_POSITION","SAVE_ADMIN_PRODUCTS_POSITION","GET_PROMOCODES","SET_ADMIN_PROMOCODES_USAGE"])),{},{changeBanners:function(e){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,{action:e.target.getAttribute("title"),promo_name:t.promo_name,promo_picture:t.promo_picture,location:t.promo_location};case 2:r=n.sent,t.ADD_BANNER(r),"add"==e.target.getAttribute("title")?t.response="Баннер успешно добавлен":t.response="Баннер успешно удалён",setTimeout((function(){t.response=""}),1e3);case 6:case"end":return n.stop()}}),n)})))()},adminAdresses:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.GET_ADDRESSES();case 2:e.GET_ADMIN_ADDRESSES();case 3:case"end":return t.stop()}}),t)})))()},adminDeleteAddress:function(e){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.DELETE_ADMIN_ADDRESS(e.id);case 2:t.search_address="",t.adminAdresses();case 4:case"end":return n.stop()}}),n)})))()},adminAddAddress:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.SET_ADMIN_ADDRESSES(e.add_form);case 2:e.add_form.address="",e.add_form.delivery_zone="",e.add_form.street_index="",e.adminAdresses();case 6:case"end":return t.stop()}}),t)})))()},adminAddPopular:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.SET_ADMIN_POPULARS(e.add_popular_field);case 2:e.GET_POPULAR_FROM_API();case 3:case"end":return t.stop()}}),t)})))()},adminDeletePopular:function(e){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.DELETE_ADMIN_POPULARS(e);case 2:t.GET_POPULAR_FROM_API();case 3:case"end":return n.stop()}}),n)})))()},adminCategoryProductsList:function(e){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.GET_CATEGORY_PRODUCTS_FROM_API(e);case 2:t.change_popup_toggle=!0;case 3:case"end":return n.stop()}}),n)})))()},changeProductPosition:function(e,t){var n=this;return Object(H["a"])(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:c={product:e,action:t},n.SET_ADMIN_PRODUCTS_POSITION(c);case 2:case"end":return r.stop()}}),r)})))()},saveProductPositions:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.SAVE_ADMIN_PRODUCTS_POSITION(e.CATEGORY_PRODUCTS);case 1:case"end":return t.stop()}}),t)})))()},support:function(e){console.log("support id",e.sort_id)}}),computed:Object(Q["a"])(Object(Q["a"])({},Object(Z["c"])(["RENDER_ADMIN_ADRESSES","POPULAR","CATEGORIES","CATEGORY_PRODUCTS","PROMOCODES"])),{},{FIND_ADDRESS:function(){var e=this;return console.log(this.RENDER_ADMIN_ADRESSES.length),this.RENDER_ADMIN_ADRESSES.filter((function(t){return t.address.toLowerCase().includes(e.search_address.toLowerCase())}))?this.RENDER_ADMIN_ADRESSES.filter((function(t){return t.address.toLowerCase().includes(e.search_address.toLowerCase())})):this.RENDER_ADMIN_ADRESSES}}),mounted:function(){this.adminAdresses(),this.GET_POPULAR_FROM_API(),this.GET_CATEGORIES_FROM_API(),this.GET_PROMOCODES()}},ee=(n("e6e9"),n("6b0d")),te=n.n(ee);const ne=te()($,[["render",K],["__scopeId","data-v-4832b382"]]);t["default"]=ne},e6e9:function(e,t,n){"use strict";n("1301")}}]);
//# sourceMappingURL=admin-dashboard.ca8bc414.js.map