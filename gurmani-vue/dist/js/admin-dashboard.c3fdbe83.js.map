{"version":3,"sources":["webpack:///./src/views/Admin-dashboard.vue","webpack:///./src/views/Admin-dashboard.vue?e197","webpack:///./src/views/Admin-dashboard.vue?0b0e"],"names":["class","action","signOutUser","type","placeholder","promo_name","promo_picture","title","changeBanners","response","data","image","setup","user","auth","router","push","console","log","methods","e","target","getAttribute","ADD_BANNER","setTimeout","uploadFile","srcElement","currentTarget","file","files","xhr","XMLHttpRequest","open","name","setRequestHeader","onreadystatechange","readyState","status","responseText","send","value","callBackFunction","mounted","__exports__","render"],"mappings":"qPACWA,MAAM,S,uBAGX,eAA0B,UAAtB,qBAAiB,M,GAGjBC,OAAO,GAAGD,MAAM,kB,uBACpB,eAA4C,MAAxCA,MAAM,eAAc,mBAAe,M,mHAP3C,eAqCU,UArCV,EAqCU,CApCR,eAGc,Q,wBAFZ,iBAA8C,CAA9C,eAA8C,GAAjC,QAAO,EAAAE,aAAW,oBAC/B,M,MAGF,eA6BO,OA7BP,EA6BO,CA5BL,E,eAEA,eAKE,SAJAC,KAAK,OACLC,YAAY,4BACZJ,MAAM,gC,qDACQ,EAAAK,WAAU,K,mBAAV,EAAAA,gB,SAAd,M,eAEF,eAKE,SAJAF,KAAK,OACLC,YAAY,kCACZJ,MAAM,gC,qDACQ,EAAAM,cAAa,K,mBAAb,EAAAA,mB,SAAd,MAEF,eAMS,UALPN,MAAM,yBACNO,MAAM,MACL,QAAK,8CAAU,EAAAC,eAAA,EAAAA,cAAA,qBAAa,eAC9B,cAGD,eAMS,UALPR,MAAM,4BACNO,MAAM,SACL,QAAK,8CAAU,EAAAC,eAAA,EAAAA,cAAA,qBAAa,eAC9B,e,eAGI,IACP,oBAAQC,UAAQ,K,kGASL,GACbC,KADa,WAEX,MAAO,CACLC,MAAO,GACPN,WAAY,GACZC,cAAe,GACfG,SAAU,KAGdG,MATa,WAUX,MAAiB,iBAATC,EAAR,EAAQA,KACFC,EAAO,iBAEPC,EAAS,iBACTb,EAAU,yDAAI,uHAEV,eAAQY,GAFE,OAGhBC,EAAOC,KAAK,SAHI,kDAKhBC,QAAQC,IAAR,MALgB,wDAAJ,qDAShB,MAAO,CAAEL,OAAMX,gBAEjBiB,QAAS,iCACJ,eAAW,CAAC,aAAc,sBADxB,IAECX,cAFC,SAEaY,GAAG,8KACF,CACjBnB,OAAQmB,EAAEC,OAAOC,aAAa,SAC9BjB,WAAY,EAAKA,WACjBC,cAAe,EAAKA,eAJD,OACfI,EADe,OAMrB,EAAKa,WAAWb,GACsB,OAAlCU,EAAEC,OAAOC,aAAa,SACxB,EAAKb,SAAW,0BAEhB,EAAKA,SAAW,wBAGlBe,YAAW,WACT,EAAKf,SAAW,KACf,KAfkB,8CAiBvBgB,WAnBO,SAmBIL,GACT,IAAIC,EAASD,EAAEC,QAAUD,EAAEM,YAAcN,EAAEO,cACvCC,EAAOP,EAAOQ,MAAM,GACpBC,EAAM,IAAIC,eACdD,EAAIE,KAAK,OAAQ,yBAA2BJ,EAAKK,MAAM,GACvDH,EAAII,iBAAiB,eAAgB,6BACrCJ,EAAIK,mBAAqB,WACvBf,EAAI,KACmB,IAAnBU,EAAIM,aACa,MAAfN,EAAIO,QAENpB,QAAQC,IAAI,WACZD,QAAQC,IAAIY,EAAIQ,eAEhBrB,QAAQC,IAAI,eAIlBY,EAAIS,KAAKX,GACTR,EAAEC,OAAOmB,MAAQ,IAEnBC,iBAxCO,SAwCU/B,GACfO,QAAQC,IAAIR,MAGhBgC,QArEa,c,iCCvCf,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/admin-dashboard.c3fdbe83.js","sourcesContent":["<template>\r\n  <section class=\"panel\">\r\n    <v-back-menu>\r\n      <v-back-btn @click=\"signOutUser\"></v-back-btn>\r\n      <h2>Gurmani dashboard</h2>\r\n    </v-back-menu>\r\n\r\n    <form action=\"\" class=\"promotion form\">\r\n      <h2 class=\"form__title\">Добавить баннер</h2>\r\n      <!-- <input type=\"file\" name=\"promotion_file\" @change=\"uploadFile\"> -->\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Название акции (промокод)\"\r\n        class=\"form__input form__input-block\"\r\n        v-model.trim=\"promo_name\"\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Название картинки (banner1.jpg)\"\r\n        class=\"form__input form__input-block\"\r\n        v-model.trim=\"promo_picture\"\r\n      />\r\n      <button\r\n        class=\"form__button form__add\"\r\n        title=\"add\"\r\n        @click.prevent=\"changeBanners\"\r\n      >\r\n        Добавить\r\n      </button>\r\n      <button\r\n        class=\"form__button form__delete\"\r\n        title=\"delete\"\r\n        @click.prevent=\"changeBanners\"\r\n      >\r\n        Удалить\r\n      </button>\r\n    </form>\r\n    {{ this.response }}\r\n  </section>\r\n</template>\r\n<script>\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\nimport { useAuthState } from \"@/firebase\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      image: \"\",\r\n      promo_name: \"\",\r\n      promo_picture: \"\",\r\n      response: \"\",\r\n    };\r\n  },\r\n  setup() {\r\n    const { user } = useAuthState();\r\n    const auth = getAuth();\r\n\r\n    const router = useRouter();\r\n    const signOutUser = async () => {\r\n      try {\r\n        await signOut(auth);\r\n        router.push(\"/auth\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    return { user, signOutUser };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"ADD_BANNER\", \"ADD_BANNER_PHOTO\"]),\r\n    async changeBanners(e) {\r\n      const data = await {\r\n        action: e.target.getAttribute(\"title\"),\r\n        promo_name: this.promo_name,\r\n        promo_picture: this.promo_picture,\r\n      };\r\n      this.ADD_BANNER(data);\r\n      if (e.target.getAttribute(\"title\") == \"add\") {\r\n        this.response = \"Баннер успешно добавлен\";\r\n      } else {\r\n        this.response = \"Баннер успешно удалён\";\r\n      }\r\n\r\n      setTimeout(() => {\r\n        this.response = \"\";\r\n      }, 1000);\r\n    },\r\n    uploadFile(e) {\r\n      let target = e.target || e.srcElement || e.currentTarget;\r\n      let file = target.files[0];\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.open(\"POST\", \"http://localhost:3000/\" + file.name, true);\r\n      xhr.setRequestHeader(\"Content-Type\", \"application/octate-stream\");\r\n      xhr.onreadystatechange = function () {\r\n        e = null;\r\n        if (xhr.readyState === 4) {\r\n          if (xhr.status === 200) {\r\n            // this.callBackFunction(this.responseText)\r\n            console.log(\"success\");\r\n            console.log(xhr.responseText);\r\n          } else {\r\n            console.log(\"errrrrror\");\r\n          }\r\n        }\r\n      };\r\n      xhr.send(file);\r\n      e.target.value = \"\";\r\n    },\r\n    callBackFunction(data) {\r\n      console.log(data);\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.panel {\r\n  padding: 20px;\r\n  padding-top: 0;\r\n}\r\n.promotion {\r\n  margin-top: 20px;\r\n}\r\n.form {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  margin-top: 30px;\r\n  &__input {\r\n    @include container;\r\n    position: relative;\r\n    width: 45%;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 14px;\r\n    font-size: 13px;\r\n    border: none;\r\n    outline: none;\r\n    margin-bottom: 20px;\r\n    &-block {\r\n      max-width: 100%;\r\n      width: 100%;\r\n    }\r\n    &::placeholder {\r\n      color: $second-black;\r\n    }\r\n  }\r\n  &__title {\r\n    margin-bottom: 20px;\r\n  }\r\n  &__button {\r\n    padding: 20px;\r\n    border-radius: 10px;\r\n    max-width: 45%;\r\n    width: 100%;\r\n    color: $white;\r\n  }\r\n  &__add {\r\n    background-color: turquoise;\r\n  }\r\n  &__delete {\r\n    background-color: tomato;\r\n  }\r\n}\r\n</style>","import { render } from \"./Admin-dashboard.vue?vue&type=template&id=258365a4&scoped=true\"\nimport script from \"./Admin-dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Admin-dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Admin-dashboard.vue?vue&type=style&index=0&id=258365a4&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\xollu\\\\OneDrive\\\\Рабочий стол\\\\Алексейв\\\\gurmani-kzn-dev\\\\gurmani-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-258365a4\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Admin-dashboard.vue?vue&type=style&index=0&id=258365a4&lang=scss&scoped=true\""],"sourceRoot":""}