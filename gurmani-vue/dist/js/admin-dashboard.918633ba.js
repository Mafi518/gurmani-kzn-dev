(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-dashboard"],{"4e07":function(e,t,n){"use strict";n("66b0")},5263:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=function(e){return Object(r["F"])("data-v-c9f1d038"),e=e(),Object(r["D"])(),e},c={class:"panel"},s=a((function(){return Object(r["i"])("h2",{class:"panel__title"},"Gurmani dashboard",-1)})),i={action:"",class:"promotion form"},o=a((function(){return Object(r["i"])("h2",{class:"form__title"},"Добавить баннер",-1)})),d={action:"",class:"addresses"},u=a((function(){return Object(r["i"])("h2",{class:"form__title"},"Добавить/Удалить улицу",-1)})),l={key:0,class:"addresses__item"},_={class:"addresses__list"},p=["value"],b=["value"],m=["value"],O=["onClick"],f={action:"",class:"admin-popular"},j=a((function(){return Object(r["i"])("h2",{class:"form__title"},"Добавить/Удалить популярный продукт",-1)})),h={key:0,class:"admin-popular__item-container"},D={class:"admin-popular__container"},A=["src"],E={class:"admin-popular__title"},R=["onClick"];function v(e,t,n,a,v,S){var g=Object(r["K"])("v-back-btn"),k=Object(r["K"])("v-back-menu");return Object(r["C"])(),Object(r["h"])("section",c,[Object(r["l"])(k,null,{default:Object(r["T"])((function(){return[Object(r["l"])(g,{onClick:a.signOutUser},null,8,["onClick"]),s]})),_:1}),Object(r["i"])("form",i,[o,Object(r["U"])(Object(r["i"])("input",{type:"text",placeholder:"Название акции (промокод)",class:"form__input form__input-block","onUpdate:modelValue":t[0]||(t[0]=function(e){return v.promo_name=e})},null,512),[[r["R"],v.promo_name,void 0,{trim:!0}]]),Object(r["U"])(Object(r["i"])("input",{type:"text",placeholder:"Название картинки (banner1.jpg)",class:"form__input form__input-block","onUpdate:modelValue":t[1]||(t[1]=function(e){return v.promo_picture=e})},null,512),[[r["R"],v.promo_picture,void 0,{trim:!0}]]),Object(r["i"])("button",{class:"form__button form__add",title:"add",onClick:t[2]||(t[2]=Object(r["V"])((function(){return S.changeBanners&&S.changeBanners.apply(S,arguments)}),["prevent"]))}," Добавить "),Object(r["i"])("button",{class:"form__button form__delete",title:"delete",onClick:t[3]||(t[3]=Object(r["V"])((function(){return S.changeBanners&&S.changeBanners.apply(S,arguments)}),["prevent"]))}," Удалить ")]),Object(r["k"])(" "+Object(r["O"])(this.banner_response)+" ",1),Object(r["i"])("form",d,[u,Object(r["U"])(Object(r["i"])("input",{type:"text",placeholder:"Найти улицу","onUpdate:modelValue":t[4]||(t[4]=function(e){return v.search_address=e}),class:"addresses__search"},null,512),[[r["R"],v.search_address,void 0,{trim:!0}]]),Object(r["i"])("button",{class:"addresses__add",onClick:t[5]||(t[5]=Object(r["V"])((function(e){return 0==v.add_toggle?v.add_toggle=!0:v.add_toggle=!1}),["prevent"]))}," Добавить улицу "),1==v.add_toggle?(Object(r["C"])(),Object(r["h"])("article",l,[Object(r["U"])(Object(r["i"])("input",{type:"text",class:"addresses__input",placeholder:"Адрес","onUpdate:modelValue":t[6]||(t[6]=function(e){return v.add_form.address=e})},null,512),[[r["R"],v.add_form.address,void 0,{trim:!0}]]),Object(r["U"])(Object(r["i"])("input",{type:"text",class:"addresses__input",placeholder:"Зона доставки","onUpdate:modelValue":t[7]||(t[7]=function(e){return v.add_form.delivery_zone=e})},null,512),[[r["R"],v.add_form.delivery_zone,void 0,{trim:!0}]]),Object(r["U"])(Object(r["i"])("input",{type:"text",class:"addresses__input",placeholder:"Индекс улицы","onUpdate:modelValue":t[8]||(t[8]=function(e){return v.add_form.street_index=e})},null,512),[[r["R"],v.add_form.street_index,void 0,{trim:!0}]]),Object(r["i"])("button",{class:"addresses__add",onClick:t[9]||(t[9]=Object(r["V"])((function(e){return S.adminAddAddress()}),["prevent"]))}," Добавить ")])):Object(r["g"])("",!0),Object(r["i"])("div",_,[(Object(r["C"])(!0),Object(r["h"])(r["a"],null,Object(r["I"])(S.FIND_ADDRESS,(function(e){return Object(r["C"])(),Object(r["h"])("article",{class:"addresses__item",key:e.id},[Object(r["i"])("input",{type:"text",id:"address",value:e.address,class:"addresses__input"},null,8,p),Object(r["i"])("input",{type:"text",value:e.delivery_zone,class:"addresses__input"},null,8,b),Object(r["i"])("input",{type:"text",value:e.street_index,class:"addresses__input"},null,8,m),Object(r["i"])("button",{class:"addresses__delete",onClick:Object(r["V"])((function(t){return S.adminDeleteAddress(e)}),["prevent"])}," Удалить ",8,O)])})),128))])]),Object(r["i"])("form",f,[j,Object(r["i"])("button",{class:"admin-popular__add",onClick:t[10]||(t[10]=Object(r["V"])((function(e){return 0==v.add_popular?v.add_popular=!0:v.add_popular=!1}),["prevent"]))}," Добавить "),1==v.add_popular?(Object(r["C"])(),Object(r["h"])("div",h,[Object(r["U"])(Object(r["i"])("input",{type:"text",placeholder:"Название блюда",class:"admin-popular__input","onUpdate:modelValue":t[11]||(t[11]=function(e){return v.add_popular_field=e})},null,512),[[r["R"],v.add_popular_field,void 0,{trim:!0}]]),Object(r["i"])("button",{class:"admin-popular__add",onClick:t[12]||(t[12]=Object(r["V"])((function(){return S.adminAddPopular&&S.adminAddPopular.apply(S,arguments)}),["prevent"]))}," Добавить ")])):Object(r["g"])("",!0),Object(r["i"])("div",D,[(Object(r["C"])(!0),Object(r["h"])(r["a"],null,Object(r["I"])(e.POPULAR,(function(e){return Object(r["C"])(),Object(r["h"])("article",{class:"admin-popular__item",key:e.product_id},[Object(r["i"])("img",{src:"https://gurmanikzndev.joinposter.com".concat(e.photo_origin),class:"admin-popular__image"},null,8,A),Object(r["i"])("h3",E,Object(r["O"])(e.product_name),1),Object(r["i"])("button",{class:"admin-popular__delete",onClick:Object(r["V"])((function(t){return S.adminDeletePopular(e.product_name)}),["prevent"])}," Удалить ",8,R)])})),128))])])])}var S=n("5530"),g=n("1da1"),k=(n("4de4"),n("caad"),n("2532"),n("96cf"),n("ea7b")),w=n("dc59"),x=n("6c02"),N=n("5502"),P={data:function(){return{image:"",promo_name:"",promo_picture:"",banner_response:"",search_address:"",add_toggle:!1,add_form:{address:"",delivery_zone:"",street_index:""},add_popular:!1,add_popular_field:""}},setup:function(){var e=Object(w["b"])(),t=e.user,n=Object(k["a"])(),r=Object(x["c"])(),a=function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k["d"])(n);case 3:r.push("/auth"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return{user:t,signOutUser:a}},methods:Object(S["a"])(Object(S["a"])({},Object(N["b"])(["ADD_BANNER","ADD_BANNER_PHOTO","GET_ADMIN_ADDRESSES","GET_ADDRESSES","SET_ADMIN_ADDRESSES","DELETE_ADMIN_ADDRESS","GET_POPULAR_FROM_API","SET_ADMIN_POPULARS","DELETE_ADMIN_POPULARS"])),{},{changeBanners:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,{action:e.target.getAttribute("title"),promo_name:t.promo_name,promo_picture:t.promo_picture};case 2:r=n.sent,t.ADD_BANNER(r),"add"==e.target.getAttribute("title")?t.response="Баннер успешно добавлен":t.response="Баннер успешно удалён",setTimeout((function(){t.response=""}),1e3);case 6:case"end":return n.stop()}}),n)})))()},adminAdresses:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.GET_ADDRESSES();case 2:e.GET_ADMIN_ADDRESSES();case 3:case"end":return t.stop()}}),t)})))()},adminDeleteAddress:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.DELETE_ADMIN_ADDRESS(e.id);case 2:t.search_address="",t.adminAdresses();case 4:case"end":return n.stop()}}),n)})))()},adminAddAddress:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.SET_ADMIN_ADDRESSES(e.add_form);case 2:e.add_form.address="",e.add_form.delivery_zone="",e.add_form.street_index="",e.adminAdresses();case 6:case"end":return t.stop()}}),t)})))()},adminAddPopular:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.SET_ADMIN_POPULARS(e.add_popular_field);case 2:case"end":return t.stop()}}),t)})))()},adminDeletePopular:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.DELETE_ADMIN_POPULARS(e);case 2:case"end":return n.stop()}}),n)})))()}}),computed:Object(S["a"])(Object(S["a"])({},Object(N["c"])(["RENDER_ADMIN_ADRESSES","POPULAR"])),{},{FIND_ADDRESS:function(){var e=this;return console.log(this.RENDER_ADMIN_ADRESSES.length),this.RENDER_ADMIN_ADRESSES.filter((function(t){return t.address.toLowerCase().includes(e.search_address.toLowerCase())}))?this.RENDER_ADMIN_ADRESSES.filter((function(t){return t.address.toLowerCase().includes(e.search_address.toLowerCase())})):this.RENDER_ADMIN_ADRESSES}}),mounted:function(){this.adminAdresses(),this.GET_POPULAR_FROM_API()}},U=(n("4e07"),n("6b0d")),y=n.n(U);const C=y()(P,[["render",v],["__scopeId","data-v-c9f1d038"]]);t["default"]=C},"66b0":function(e,t,n){}}]);
//# sourceMappingURL=admin-dashboard.918633ba.js.map